# Типы данных, функции + Практика

## Функции 

Фу́нкция в программировании, или подпрограмма — фрагмент программного кода, к которому можно обратиться из другого места программы. В большинстве случаев с функцией связывается идентификатор[en], но многие языки допускают и безымянные функции. С именем функции неразрывно связан адрес первой инструкции (оператора), входящей в функцию, которой передаётся управление при обращении к функции. После выполнения функции управление возвращается обратно в адрес возврата — точку программы, где данная функция была вызвана.

Функция может принимать параметры и должна возвращать некоторое значение, возможно пустое. Функции, которые возвращают пустое значение, часто называют процедурами. В некоторых языках программирования объявления функций и процедур имеют различный синтаксис, в частности, могут использоваться различные ключевые слова.

Функция должна быть соответствующим образом объявлена и определена. Объявление функции, кроме имени, содержит список имён и типов передаваемых параметров (или: аргументов), а также, тип возвращаемого функцией значения. Определение функции содержит исполняемый код функции. В одних языках программирования объявление функции непосредственно предваряет определение функции, в то время как в ряде других языков необходимо сначала объявить функцию, а уже потом привести её определение.

В PHP есть как стандартные функции так и те которые мы можем создать сами,

С одной из стандартный функциий мы уже сталкивались - rand()

Пользовательские функции нобьявляются с помощью ключевого слова **function**  

Внутри функции можно использовать любой корректный PHP-код, в том числе другие функции и даже объявления классов.

Имена функций следуют тем же правилам, что и другие метки в PHP. Корректное имя функции начинается с буквы или знака подчёркивания, за которым следует любое количество букв, цифр или знаков подчёркивания. В качестве регулярного выражения оно может быть выражено так: ^[a-zA-Z_\x80-\xff][a-zA-Z0-9_\x80-\xff]*$.

Функции не обязаны быть определены до их использования, исключая тот случай, когда функции определяются условно, как это показано в двух последующих примерах.

В случае, когда функция определяется в зависимости от какого-либо условия, например, как это показано в двух приведённых ниже примерах, обработка описания функции должна предшествовать её вызову.

```php 
$makefoo = true;

/* Мы не можем вызвать функцию foo() в этом месте,
   поскольку она ещё не определена, но мы можем
   обратиться к bar() */

bar();

if ($makefoo) {
  function foo()
  {
    echo "Я не существую до тех пор, пока выполнение программы меня не достигнет.\n";
  }
}

/* Теперь мы благополучно можем вызывать foo(),
   поскольку $makefoo была интерпретирована как true */

if ($makefoo) foo();

function bar()
{
  echo "Я существую сразу с начала старта программы.\n";
}

```

Вложенные функции

```php 
function foo()
{
  function bar()
  {
    echo "Я не существую пока не будет вызвана foo().\n";
  }
}

/* Мы пока не можем обратиться к bar(),
   поскольку она ещё не определена. */

foo();

/* Теперь мы можем вызвать функцию bar(),
   обработка foo() сделала её доступной. */

bar();
```

Все функции и классы PHP имеют глобальную область видимости - они могут быть вызваны вне функции, даже если были определены внутри и наоборот.

PHP не поддерживает перегрузку функции, также отсутствует возможность переопределить или удалить объявленную ранее функцию.

> Замечание: Имена функций регистронезависимы для символов ASCII от A до Z, тем не менее, предпочтительнее вызывать функции так, как они были объявлены.

### Аргументы функции

У функции могут быть обязательны и не обязательны аргументы.

Обязательны аргументы это те аргументы без которых функция не может быть вызвана

```php

function compareTwoDigits(int $a, int $b) : void
{
    echo ($a > $b) ? "a больше b" : "а меньше b";
}

compareTwoDigits(2, 4);
compareTwoDigits(); // ошибка функция вызвана без обязательно аргумента

```

Необязательные аргументы - это аргументы без которых функция сможет быть вызвана и в случае если параметр не был передан будет взято значение по умолчанию

```php

function compareTwoDigits(int $a = 1, int $b = 2) : void
{
    echo ($a > $b) ? "a больше b" : "а меньше b";
}

compareTwoDigits(2, 4);
compareTwoDigits(); // Теперь ошибки не будет так как $a = 1, а $b = 2
compareTwoDigits(10); // Теперь ошибки не будет так как $a = 10, а $b = 2

```

### Type Hinting 

Объявления типов могут использоваться для аргументов функций, возвращаемых значений и, начиная с PHP 7.4.0, для свойств класса. Они используются во время исполнения для проверки, что значение имеет точно тот тип, который для них указан. В противном случае будет выброшено исключение TypeError.

До php 7 можно было использовать в качестве указания типа толлько 
- array
- Имя класса
- Имя Интерфейса

Начиная с php 7 можно передавать скалярные типы такие как 
- int
- string
- bool
- float

Так же в php7 появились возвращаемые типы функций

### Ключевое слово return

Функция может возвращать результат выполнения в таком случае его можно будет записать в переменную

```php 
function getPow(int $a) : int
{
    return $a ** 2;
}

$a = getPow(2) // 4;
```

Функция будет работать до первого return;

```php 
function getPow(int $a) : int
{
    return $a ** 2;
    
    return $a ** 3; // работать не будет так как выше уже есть return
}

$a = getPow(2) // 4;
```
Но это можно использовать в условиях

```php 
function devide(float $a, float $b) : float
{
    if ($a === 0 || $b === 0) {
        return 0;
    }
    
    return $a / $b;
}

$a = devide(2, 2) // 1;
$b = devide(0, 3) // 0
```

### Рекурсия

В программировании рекурсия, или же рекурсивная функция — это такая функция, которая вызывает саму себя.
Рекурсию также можно сравнить с матрёшкой. Первая кукла самая большая, за ней идёт точно такая же кукла, но поменьше. Суть матрёшки состоит в том, что вы можете открывать её и доставать из неё точно такую же куклу, только немного меньше. Такой продолжительный процесс длится до тех пор, пока вы не дойдёте до последней куклы, которая и прервёт цикл. Так выглядит визуальная репрезентация рекурсии.

Давайте рассмотрим пример рекурсии на поиски [факториала числа](https://ru.wikipedia.org/wiki/Факториал)

```php 
function fact(int $a) 
{
    if ($a === 1) {
        return 1; // Так как мы знаем тчо факторриал 1 всегда равен 1 и нам нужно условия выхода с рекурсии
    }
    
    return fact($a - 1);
    
}

$a = fact(3); // 6
```

Если не указать условия выхода из рекурсии то функция будет работать бесконечно пока не переполнит стек вызова или память.

### ДЗ

1. Написать функция котора принимает три целых числа и возвращает болььшее из них, если числа равны то любое из них
2. Написать функцию которая принимает число от 1 до 7 и возвращает день недели Если число не входит в заданый диапазон то возвращает сообщение об ошибке
3. Написать функцию которая проверяет является ли число простым или нет(продвинутый уровень - использовтаь рекурсию)
4. Написать функцию которая рекурсивно выводит все делители переданого числа(для 21 это 7 и 3)
5. На перед Написать функуию которая возвращает все делители числа(нужно будет использовтаь массив)
